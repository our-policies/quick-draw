<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Contact us for Quick Draw" />
    <title>Contact Us</title>
    <link rel="icon" href="./assets/favicon.ico" type="image/x-icon">
    <style>
      body {
        font-family: "Helvetica Neue", Arial, sans-serif;
        line-height: 1.6;
        color: #444;
        margin: auto;
      }

      h1,
      h2 {
        text-align: center;
        color: #333;
      }

      h1 {
        font-size: 2.2em;
        margin-bottom: 0.5em;
      }

      h2 {
        font-size: 1.4em;
        margin-top: 1.5em;
      }

      h3 {
        font-size: 1.2em;
        margin-top: 1em;
        color: #555;
      }

      p {
        margin-bottom: 1em;
      }

      a {
        color: #1a73e8;
        text-decoration: none;
      }

      a:hover {
        text-decoration: underline;
      }

      .container {
        background-color: #fff;
      }

      /* FORM */
      .contact-form {
        background: #fff;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        width: 100%;
      }

      .contact-form h2 {
        font-size: 1.5rem;
        color: #111827;
        margin: 0;
      }

      .form-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .form-group label {
        font-weight: 500;
        color: #374151;
      }

      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        font-size: 1rem;
        color: #111827;
        background: #fff;
        box-sizing: border-box;
      }

      .form-group input:focus,
      .form-group textarea:focus {
        border-color: #3b82f6;
        outline: none;
      }

      button[type="submit"] {
        padding: 0.75rem;
        background-color: #3b82f6;
        color: #fff;
        border: none;
        border-radius: 6px;
        font-size: 1rem;
        cursor: pointer;
      }

      button[type="submit"]:hover {
        background-color: #2563eb;
      }

      textarea {
        font-family: "Helvetica Neue", Arial, sans-serif;
      }

      /* Chrome, Safari, Edge, Opera */
      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }

      /* Firefox */
      input[type="number"] {
        -moz-appearance: textfield;
        appearance: textfield;
      }

      .success-message, .error-message {
        text-align: center;
        margin-top: 1em;
        font-size: 1.1em;
        padding: 0.75em;
        border-radius: 6px;
        display: none;
      }
      .success-message {
        background: #e0fbe5;
        color: #157944;
        border: 1px solid #35c76b;
      }
      .error-message {
        background: #fedede;
        color: #ae2000;
        border: 1px solid #f87171;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <img
        src="./assets/quick-draw-old.webp"
        alt="Quick Draw Privacy Policy"
        style="display: block; width:80px; height: 80px; background-color: #580078; border-radius: 50%; margin: 4px;"
      />
      <h1><span style="background-color:#580078; color: #fff; padding: 8px 20px; font-size: medium;">Contact Us</span></h1>
      <br />
      <img
        src="./assets/contact-us.webp"
        alt="Quick Draw Contact Us"
        style="display: block; margin: 0 auto; width: 100%; height: auto"
      />

      <h2>Send us a message</h2>
      <p>
        Questions? Fill out this form and we'll get back to you as soon as
        possible! We try to answer your enquiry within 4 hours. Please note that
        our workdays are Monday to Saturday from at 9 am to 9 pm CET. We try to
        respond to all emails that are sent before 5 pm on the same day. In any
        case, you can expect a reply within 48 hours.
      </p>

      <!-- Success and Error message containers -->
      <div id="successMessage" class="success-message"></div>
      <div id="errorMessage" class="error-message"></div>

      <form id="myForm" class="contact-form" autocomplete="off">
        <h2>Contact Us</h2>

        <div class="form-group">
          <label for="name">Name</label>
          <input
            type="text"
            name="name"
            id="name"
            placeholder="Enter your name"
            required
          />
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            name="email"
            id="email"
            placeholder="Enter your email"
            required
          />
        </div>

        <div class="form-group">
          <label for="phone">Phone</label>
          <input
            type="text"
            name="phone"
            id="phone"
            placeholder="Enter your phone number"
            required
          />
        </div>

        <div class="form-group">
          <label for="message">Message</label>
          <textarea
            name="message"
            id="message"
            rows="4"
            placeholder="Enter your message here"
            required
          ></textarea>
        </div>

        <button type="submit" id="submitBtn">Submit</button>
      </form>
    </div>

    <script>
      // EmailJS config - replace with your own values!
      const EMAILJS_SERVICE_ID = "service_dxfr8r5";
      const EMAILJS_TEMPLATE_ID = "template_93smvdr";
      const EMAILJS_USER_ID = "u-BhCPTWVXfHHEqMS";

      const form = document.getElementById("myForm");
      const successMessage = document.getElementById("successMessage");
      const errorMessage = document.getElementById("errorMessage");
      const submitBtn = document.getElementById("submitBtn");

      form.addEventListener("submit", async function (e) {
        e.preventDefault();

        // Clear messages
        successMessage.style.display = "none";
        errorMessage.style.display = "none";

        // Gather form data
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const phone = document.getElementById("phone").value.trim();
        const message = document.getElementById("message").value.trim();

        // Simple validation
        if (!name || !email || !phone || !message) {
          errorMessage.textContent = "Please fill in all the fields.";
          errorMessage.style.display = "block";
          return;
        }
        if (!/\S+@\S+\.\S+/.test(email)) {
          errorMessage.textContent = "Please enter a valid email address.";
          errorMessage.style.display = "block";
          return;
        }
        if (!/^[\d+\-\s()]+$/.test(phone)) {
          errorMessage.textContent = "Please enter a valid phone number.";
          errorMessage.style.display = "block";
          return;
        }

        // Disable button while submitting
        submitBtn.disabled = true;
        submitBtn.textContent = "Sending...";

        try {
          const response = await fetch("https://api.emailjs.com/api/v1.0/email/send", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              service_id: EMAILJS_SERVICE_ID,
              template_id: EMAILJS_TEMPLATE_ID,
              user_id: EMAILJS_USER_ID,
              template_params: {
                fullName: name,
                companyName: "", // Not in this form, keep empty
                email: email,
                phone: phone,
                message: message,
              },
            }),
          });

          if (!response.ok) {
            let errText = "Failed to send message";
            try {
              const errData = await response.json();
              if (errData && errData.error) errText = errData.error;
            } catch (_) {}
            throw new Error(errText);
          }

          successMessage.textContent = "Message sent successfully! We'll get back to you soon.";
          successMessage.style.display = "block";
          form.reset();
        } catch (err) {
          errorMessage.textContent = err instanceof Error ? err.message : "Something went wrong!";
          errorMessage.style.display = "block";
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = "Submit";
        }
      });
    </script>
  </body>
</html>

